---
description: "Raw idea? → Distill chaos into structured product brief → Foundation for validation"
allowed-tools: ["Bash", "Read", "Write", "Edit", "Glob", "Grep", "AskUserQuestion"]
---

## Context

Let's create a product brief from: $ARGUMENTS

## Purpose

Transform unstructured idea material into a clear, structured product brief that can feed into market validation.

**This command accepts:**
- Voice transcriptions (rambling 2-3 minute stories)
- Pages of unstructured notes
- Single sentence ideas
- Stream of consciousness dumps
- File paths to existing content

**This command produces:**
- A structured product brief at `.plan/product/brief.md`
- Foundation document for `/pro:product.validate`

## Your Task

### Step 1: Accept Input

Resolve input in this order:
1. If `$ARGUMENTS` is a file path: read the file
2. If `$ARGUMENTS` contains idea content directly: use it as-is
3. If no arguments: ask user to describe their idea (voice-friendly prompt)

When asking for input, use this prompt:
> "Tell me about your idea. You can ramble - I'll distill it. What problem are you solving? Who has this problem? What's your solution?"

### Step 2: Extract Key Elements

Parse the input to identify:
- **Problem signals:** Pain points, frustrations, gaps mentioned
- **Solution signals:** What they want to build, how it helps
- **Customer signals:** Who they're talking about, who has the problem
- **Timing signals:** Why now, what's changed, urgency
- **Business signals:** How money might flow, pricing thoughts

### Step 3: Ask Clarifying Questions (If Needed)

If critical elements are missing, ask focused questions. Use `AskUserQuestion` for efficiency.

**Only ask if truly unclear:**
- Who specifically has this problem? (if target customer is vague)
- How do people solve this today? (if no competitive context)
- Why would someone pay for this? (if value prop is unclear)

**Do NOT ask about:**
- Technical implementation details
- Exact pricing
- Team composition
- Funding needs

Keep questions focused on the problem/solution/customer.

### Step 4: Generate Product Brief

Create a structured brief with this format:

```markdown
# Product Brief

**Working Title:** [Name or one-line description]
**Created:** [ISO 8601 timestamp]

---

## Problem Statement

What specific problem are we solving?
- Who has this problem?
- How painful is it? (hair-on-fire vs. nice-to-have)
- How do they solve it today?

---

## Proposed Solution

What are we building?
- Core value proposition (one sentence)
- Key capabilities
- What makes it different from alternatives?

---

## Target Customer

### Primary
- Who specifically will buy this?
- What triggers them to look for a solution?

### Secondary (if applicable)
- Adjacent segments
- B2B opportunities

---

## Why Now?

What's changed that makes this viable/necessary?
- Market shifts
- Technology enablers
- Behavioral changes
- Regulatory/policy changes

---

## Business Model Hypothesis

How does money flow?
- Revenue model (subscription, one-time, freemium, etc.)
- Pricing intuition (ballpark, not exact)
- Who pays vs. who uses?

---

## Key Assumptions

What must be true for this to work?
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

---

## Open Questions

What don't we know yet?
- [ ] [Question 1]
- [ ] [Question 2]
- [ ] [Question 3]

---

*Generated by /pro:product.brief*
*Ready for validation: `/pro:product.validate`*
```

### Step 5: Write Brief to File

```bash
mkdir -p .plan/product
```

Write the brief to `.plan/product/brief.md`

### Step 6: Display Summary

Show the user:
1. Brief summary (problem + solution in 2-3 sentences)
2. File location
3. Next step suggestion

```
## Brief Created

**Problem:** [one sentence]
**Solution:** [one sentence]

Saved to: `.plan/product/brief.md`

**Next step:** Run `/pro:product.validate` to get harsh market validation.
```

## Non-Git Directory Support

This command works in any directory, even without git initialized:
- Create `.plan/product/` directory if it doesn't exist
- Do not require or assume git
- Works as first step before any repo setup

## Tone Guidelines

Be helpful and encouraging at this stage:
- This is idea capture, not validation
- Help them articulate what's in their head
- Don't judge the idea yet (that's validate's job)
- Focus on clarity and completeness

## Definition of Done

- Input accepted (argument, file, or interactive)
- Key elements extracted from unstructured input
- Clarifying questions asked if needed (minimal)
- Structured brief generated
- Brief written to `.plan/product/brief.md`
- Summary displayed with next steps
